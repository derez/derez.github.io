<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>Bits on 0x42697473 - workflow</title><link href="https://derez.github.io/" rel="alternate"></link><link href="https://derez.github.io/tag/workflow/feed/index.xml" rel="self"></link><id>https://derez.github.io/</id><updated>2018-02-23T00:00:00-05:00</updated><entry><title>Golang prototypingÂ workflow</title><link href="https://derez.github.io/2018/golang-prototyping-workflow.html" rel="alternate"></link><published>2018-02-23T00:00:00-05:00</published><updated>2018-02-23T00:00:00-05:00</updated><author><name>Danny Walker</name></author><id>tag:derez.github.io,2018-02-23:/2018/golang-prototyping-workflow.html</id><summary type="html">&lt;p class="first last"&gt;Tools and scripts used to prototype and experiment with new golang&amp;nbsp;ideas&lt;/p&gt;
</summary><content type="html">&lt;p&gt;direnv.sh&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span id="row-1"&gt;&lt;span class="lineno"&gt;1 &lt;/span&gt;&lt;span class="c1"&gt;# Setup direnv if file exists and not root&lt;/span&gt;
&lt;/span&gt;&lt;span id="row-2"&gt;&lt;span class="lineno"&gt;2 &lt;/span&gt;&lt;span class="nv"&gt;DIRENV&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="sb"&gt;`&lt;/span&gt;which direnv&lt;span class="sb"&gt;`&lt;/span&gt;
&lt;/span&gt;&lt;span id="row-3"&gt;&lt;span class="lineno"&gt;3 &lt;/span&gt;
&lt;/span&gt;&lt;span id="row-4"&gt;&lt;span class="lineno"&gt;4 &lt;/span&gt;&lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="o"&gt;[&lt;/span&gt; -f &lt;span class="nv"&gt;$DIRENV&lt;/span&gt; &lt;span class="o"&gt;]&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="k"&gt;then&lt;/span&gt;
&lt;/span&gt;&lt;span id="row-5"&gt;&lt;span class="lineno"&gt;5 &lt;/span&gt;  &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="o"&gt;[[&lt;/span&gt; &lt;span class="nv"&gt;$EUID&lt;/span&gt; -ne &lt;span class="m"&gt;0&lt;/span&gt; &lt;span class="o"&gt;]]&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="k"&gt;then&lt;/span&gt;
&lt;/span&gt;&lt;span id="row-6"&gt;&lt;span class="lineno"&gt;6 &lt;/span&gt;    &lt;span class="nb"&gt;eval&lt;/span&gt; &lt;span class="k"&gt;$(&lt;/span&gt;&lt;span class="nv"&gt;$DIRENV&lt;/span&gt; hook bash&lt;span class="k"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;span id="row-7"&gt;&lt;span class="lineno"&gt;7 &lt;/span&gt;  &lt;span class="k"&gt;fi&lt;/span&gt;
&lt;/span&gt;&lt;span id="row-8"&gt;&lt;span class="lineno"&gt;8 &lt;/span&gt;&lt;span class="k"&gt;fi&lt;/span&gt;
&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;mkgoproject.sh&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span id="row-1"&gt;&lt;span class="lineno"&gt; 1 &lt;/span&gt;&lt;span class="ch"&gt;#!/bin/bash&lt;/span&gt;
&lt;/span&gt;&lt;span id="row-2"&gt;&lt;span class="lineno"&gt; 2 &lt;/span&gt;&lt;span class="c1"&gt;# use direnv to create new gocode instance&lt;/span&gt;
&lt;/span&gt;&lt;span id="row-3"&gt;&lt;span class="lineno"&gt; 3 &lt;/span&gt;&lt;span class="c1"&gt;# sets up git, dep, project repo and verifies test file compiles and executes&lt;/span&gt;
&lt;/span&gt;&lt;span id="row-4"&gt;&lt;span class="lineno"&gt; 4 &lt;/span&gt;&lt;span class="c1"&gt;#set -x&lt;/span&gt;
&lt;/span&gt;&lt;span id="row-5"&gt;&lt;span class="lineno"&gt; 5 &lt;/span&gt;
&lt;/span&gt;&lt;span id="row-6"&gt;&lt;span class="lineno"&gt; 6 &lt;/span&gt;&lt;span class="c1"&gt;#TODO: add in gitignore&lt;/span&gt;
&lt;/span&gt;&lt;span id="row-7"&gt;&lt;span class="lineno"&gt; 7 &lt;/span&gt;
&lt;/span&gt;&lt;span id="row-8"&gt;&lt;span class="lineno"&gt; 8 &lt;/span&gt;&lt;span class="nv"&gt;REPOPATH&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;github.com/derez&amp;quot;&lt;/span&gt;
&lt;/span&gt;&lt;span id="row-9"&gt;&lt;span class="lineno"&gt; 9 &lt;/span&gt;
&lt;/span&gt;&lt;span id="row-10"&gt;&lt;span class="lineno"&gt;10 &lt;/span&gt;&lt;span class="nv"&gt;DIRENV&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="k"&gt;$(&lt;/span&gt;which direnv&lt;span class="k"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;span id="row-11"&gt;&lt;span class="lineno"&gt;11 &lt;/span&gt;&lt;span class="nv"&gt;GO&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="k"&gt;$(&lt;/span&gt;which go&lt;span class="k"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;span id="row-12"&gt;&lt;span class="lineno"&gt;12 &lt;/span&gt;&lt;span class="nv"&gt;DEP&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="k"&gt;$(&lt;/span&gt;which dep&lt;span class="k"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;span id="row-13"&gt;&lt;span class="lineno"&gt;13 &lt;/span&gt;&lt;span class="nv"&gt;GIT&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="k"&gt;$(&lt;/span&gt;which git&lt;span class="k"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;span id="row-14"&gt;&lt;span class="lineno"&gt;14 &lt;/span&gt;
&lt;/span&gt;&lt;span id="row-15"&gt;&lt;span class="lineno"&gt;15 &lt;/span&gt;&lt;span class="k"&gt;for&lt;/span&gt; FC in &lt;span class="nv"&gt;$DIRENV&lt;/span&gt; &lt;span class="nv"&gt;$GO&lt;/span&gt; &lt;span class="nv"&gt;$DEP&lt;/span&gt; &lt;span class="nv"&gt;$GIT&lt;/span&gt; &lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="k"&gt;do&lt;/span&gt;
&lt;/span&gt;&lt;span id="row-16"&gt;&lt;span class="lineno"&gt;16 &lt;/span&gt;    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="o"&gt;[&lt;/span&gt; ! -f &lt;span class="nv"&gt;$FC&lt;/span&gt; &lt;span class="o"&gt;]&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="k"&gt;then&lt;/span&gt;
&lt;/span&gt;&lt;span id="row-17"&gt;&lt;span class="lineno"&gt;17 &lt;/span&gt;        &lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;[!] Requires &lt;/span&gt;&lt;span class="nv"&gt;$FC&lt;/span&gt;&lt;span class="s2"&gt; to be installed!&amp;quot;&lt;/span&gt;
&lt;/span&gt;&lt;span id="row-18"&gt;&lt;span class="lineno"&gt;18 &lt;/span&gt;        &lt;span class="nb"&gt;exit&lt;/span&gt; &lt;span class="m"&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;span id="row-19"&gt;&lt;span class="lineno"&gt;19 &lt;/span&gt;    &lt;span class="k"&gt;fi&lt;/span&gt;
&lt;/span&gt;&lt;span id="row-20"&gt;&lt;span class="lineno"&gt;20 &lt;/span&gt;&lt;span class="k"&gt;done&lt;/span&gt;
&lt;/span&gt;&lt;span id="row-21"&gt;&lt;span class="lineno"&gt;21 &lt;/span&gt;
&lt;/span&gt;&lt;span id="row-22"&gt;&lt;span class="lineno"&gt;22 &lt;/span&gt;&lt;span class="o"&gt;[&lt;/span&gt; &lt;span class="nv"&gt;$#&lt;/span&gt; -eq &lt;span class="m"&gt;0&lt;/span&gt; &lt;span class="o"&gt;]&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class="o"&gt;{&lt;/span&gt; &lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Usage: &lt;/span&gt;&lt;span class="nv"&gt;$0&lt;/span&gt;&lt;span class="s2"&gt; project_path_name&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="nb"&gt;exit&lt;/span&gt; &lt;span class="m"&gt;1&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="o"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;span id="row-23"&gt;&lt;span class="lineno"&gt;23 &lt;/span&gt;
&lt;/span&gt;&lt;span id="row-24"&gt;&lt;span class="lineno"&gt;24 &lt;/span&gt;&lt;span class="nv"&gt;PROJECT&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="nv"&gt;$1&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;
&lt;/span&gt;&lt;span id="row-25"&gt;&lt;span class="lineno"&gt;25 &lt;/span&gt;
&lt;/span&gt;&lt;span id="row-26"&gt;&lt;span class="lineno"&gt;26 &lt;/span&gt;&lt;span class="nv"&gt;PROJECT_PATH&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="nv"&gt;$HOME&lt;/span&gt;&lt;span class="s2"&gt;/&lt;/span&gt;&lt;span class="nv"&gt;$PROJECT&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;
&lt;/span&gt;&lt;span id="row-27"&gt;&lt;span class="lineno"&gt;27 &lt;/span&gt;
&lt;/span&gt;&lt;span id="row-28"&gt;&lt;span class="lineno"&gt;28 &lt;/span&gt;&lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="o"&gt;[&lt;/span&gt; -d &lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="nv"&gt;$PROJECT_PATH&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt; &lt;span class="o"&gt;]&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="k"&gt;then&lt;/span&gt;
&lt;/span&gt;&lt;span id="row-29"&gt;&lt;span class="lineno"&gt;29 &lt;/span&gt;    &lt;span class="o"&gt;{&lt;/span&gt; &lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;[!] &lt;/span&gt;&lt;span class="nv"&gt;$PROJECT_PATH&lt;/span&gt;&lt;span class="s2"&gt; already exists&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="nb"&gt;exit&lt;/span&gt; &lt;span class="m"&gt;1&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="o"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;span id="row-30"&gt;&lt;span class="lineno"&gt;30 &lt;/span&gt;&lt;span class="k"&gt;fi&lt;/span&gt;
&lt;/span&gt;&lt;span id="row-31"&gt;&lt;span class="lineno"&gt;31 &lt;/span&gt;
&lt;/span&gt;&lt;span id="row-32"&gt;&lt;span class="lineno"&gt;32 &lt;/span&gt;&lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;[*] Create new project folder at &lt;/span&gt;&lt;span class="nv"&gt;$PROJECT_PATH&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;
&lt;/span&gt;&lt;span id="row-33"&gt;&lt;span class="lineno"&gt;33 &lt;/span&gt;mkdir &lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="nv"&gt;$PROJECT_PATH&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;
&lt;/span&gt;&lt;span id="row-34"&gt;&lt;span class="lineno"&gt;34 &lt;/span&gt;
&lt;/span&gt;&lt;span id="row-35"&gt;&lt;span class="lineno"&gt;35 &lt;/span&gt;&lt;span class="nv"&gt;ENVRC&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="nv"&gt;$PROJECT_PATH&lt;/span&gt;&lt;span class="s2"&gt;/.envrc&amp;quot;&lt;/span&gt;
&lt;/span&gt;&lt;span id="row-36"&gt;&lt;span class="lineno"&gt;36 &lt;/span&gt;&lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;[*] Create .envrc file for environment variables at &lt;/span&gt;&lt;span class="nv"&gt;$ENVRC&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;
&lt;/span&gt;&lt;span id="row-37"&gt;&lt;span class="lineno"&gt;37 &lt;/span&gt;
&lt;/span&gt;&lt;span id="row-38"&gt;&lt;span class="lineno"&gt;38 &lt;/span&gt;&lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;export GOPATH=&lt;/span&gt;&lt;span class="nv"&gt;$PROJECT_PATH&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt; &amp;gt;&amp;gt; &lt;span class="nv"&gt;$ENVRC&lt;/span&gt;
&lt;/span&gt;&lt;span id="row-39"&gt;&lt;span class="lineno"&gt;39 &lt;/span&gt;&lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;export PATH=&lt;/span&gt;&lt;span class="nv"&gt;$PROJECT_PATH&lt;/span&gt;&lt;span class="s2"&gt;/bin:&lt;/span&gt;&lt;span class="nv"&gt;$PATH&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt; &amp;gt;&amp;gt; &lt;span class="nv"&gt;$ENVRC&lt;/span&gt;
&lt;/span&gt;&lt;span id="row-40"&gt;&lt;span class="lineno"&gt;40 &lt;/span&gt;
&lt;/span&gt;&lt;span id="row-41"&gt;&lt;span class="lineno"&gt;41 &lt;/span&gt;&lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;[*] Create project structure&amp;quot;&lt;/span&gt;
&lt;/span&gt;&lt;span id="row-42"&gt;&lt;span class="lineno"&gt;42 &lt;/span&gt;mkdir &lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="nv"&gt;$PROJECT_PATH&lt;/span&gt;&lt;span class="s2"&gt;/bin&amp;quot;&lt;/span&gt;
&lt;/span&gt;&lt;span id="row-43"&gt;&lt;span class="lineno"&gt;43 &lt;/span&gt;mkdir &lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="nv"&gt;$PROJECT_PATH&lt;/span&gt;&lt;span class="s2"&gt;/pkg&amp;quot;&lt;/span&gt;
&lt;/span&gt;&lt;span id="row-44"&gt;&lt;span class="lineno"&gt;44 &lt;/span&gt;mkdir &lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="nv"&gt;$PROJECT_PATH&lt;/span&gt;&lt;span class="s2"&gt;/src&amp;quot;&lt;/span&gt;
&lt;/span&gt;&lt;span id="row-45"&gt;&lt;span class="lineno"&gt;45 &lt;/span&gt;
&lt;/span&gt;&lt;span id="row-46"&gt;&lt;span class="lineno"&gt;46 &lt;/span&gt;&lt;span class="nb"&gt;cd&lt;/span&gt; &lt;span class="nv"&gt;$PROJECT_PATH&lt;/span&gt;
&lt;/span&gt;&lt;span id="row-47"&gt;&lt;span class="lineno"&gt;47 &lt;/span&gt;&lt;span class="nv"&gt;$DIRENV&lt;/span&gt; allow . &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class="nb"&gt;eval&lt;/span&gt; &lt;span class="k"&gt;$(&lt;/span&gt;direnv &lt;span class="nb"&gt;export&lt;/span&gt; bash&lt;span class="k"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;span id="row-48"&gt;&lt;span class="lineno"&gt;48 &lt;/span&gt;&lt;span class="nv"&gt;$DIRENV&lt;/span&gt; status
&lt;/span&gt;&lt;span id="row-49"&gt;&lt;span class="lineno"&gt;49 &lt;/span&gt;
&lt;/span&gt;&lt;span id="row-50"&gt;&lt;span class="lineno"&gt;50 &lt;/span&gt;&lt;span class="nv"&gt;PROJECT_REPO&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="nv"&gt;$PROJECT_PATH&lt;/span&gt;&lt;span class="s2"&gt;/src/&lt;/span&gt;&lt;span class="nv"&gt;$REPOPATH&lt;/span&gt;&lt;span class="s2"&gt;/&lt;/span&gt;&lt;span class="nv"&gt;$PROJECT&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;
&lt;/span&gt;&lt;span id="row-51"&gt;&lt;span class="lineno"&gt;51 &lt;/span&gt;&lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;[*] Setup project repo at &lt;/span&gt;&lt;span class="nv"&gt;$PROJECT_REPO&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;
&lt;/span&gt;&lt;span id="row-52"&gt;&lt;span class="lineno"&gt;52 &lt;/span&gt;
&lt;/span&gt;&lt;span id="row-53"&gt;&lt;span class="lineno"&gt;53 &lt;/span&gt;mkdir -p &lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="nv"&gt;$PROJECT_REPO&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;
&lt;/span&gt;&lt;span id="row-54"&gt;&lt;span class="lineno"&gt;54 &lt;/span&gt;&lt;span class="nb"&gt;cd&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;src/&lt;/span&gt;&lt;span class="nv"&gt;$REPOPATH&lt;/span&gt;&lt;span class="s2"&gt;/&lt;/span&gt;&lt;span class="nv"&gt;$PROJECT&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;
&lt;/span&gt;&lt;span id="row-55"&gt;&lt;span class="lineno"&gt;55 &lt;/span&gt;
&lt;/span&gt;&lt;span id="row-56"&gt;&lt;span class="lineno"&gt;56 &lt;/span&gt;&lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;[*] Initialize new git repo for &lt;/span&gt;&lt;span class="nv"&gt;$PROJECT_REPO&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;
&lt;/span&gt;&lt;span id="row-57"&gt;&lt;span class="lineno"&gt;57 &lt;/span&gt;&lt;span class="nv"&gt;$GIT&lt;/span&gt; init
&lt;/span&gt;&lt;span id="row-58"&gt;&lt;span class="lineno"&gt;58 &lt;/span&gt;&lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;[*] Initialize dep for &lt;/span&gt;&lt;span class="nv"&gt;$PROJECT_REPO&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;
&lt;/span&gt;&lt;span id="row-59"&gt;&lt;span class="lineno"&gt;59 &lt;/span&gt;&lt;span class="nv"&gt;$DEP&lt;/span&gt; init
&lt;/span&gt;&lt;span id="row-60"&gt;&lt;span class="lineno"&gt;60 &lt;/span&gt;
&lt;/span&gt;&lt;span id="row-61"&gt;&lt;span class="lineno"&gt;61 &lt;/span&gt;&lt;span class="nv"&gt;TESTFILE&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="nv"&gt;$PROJECT_REPO&lt;/span&gt;&lt;span class="s2"&gt;/&lt;/span&gt;&lt;span class="nv"&gt;$PROJECT&lt;/span&gt;&lt;span class="s2"&gt;.go&amp;quot;&lt;/span&gt;
&lt;/span&gt;&lt;span id="row-62"&gt;&lt;span class="lineno"&gt;62 &lt;/span&gt;&lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;[*] Create test file at &lt;/span&gt;&lt;span class="nv"&gt;$TESTFILE&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;
&lt;/span&gt;&lt;span id="row-63"&gt;&lt;span class="lineno"&gt;63 &lt;/span&gt;
&lt;/span&gt;&lt;span id="row-64"&gt;&lt;span class="lineno"&gt;64 &lt;/span&gt;&lt;span class="k"&gt;$(&lt;/span&gt;which cat&lt;span class="k"&gt;)&lt;/span&gt; &amp;gt; &lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="nv"&gt;$TESTFILE&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt; &lt;span class="s"&gt;&amp;lt;&amp;lt; EOF&lt;/span&gt;
&lt;/span&gt;&lt;span id="row-65"&gt;&lt;span class="lineno"&gt;65 &lt;/span&gt;
&lt;/span&gt;&lt;span id="row-66"&gt;&lt;span class="lineno"&gt;66 &lt;/span&gt;&lt;span class="s"&gt;package main&lt;/span&gt;
&lt;/span&gt;&lt;span id="row-67"&gt;&lt;span class="lineno"&gt;67 &lt;/span&gt;
&lt;/span&gt;&lt;span id="row-68"&gt;&lt;span class="lineno"&gt;68 &lt;/span&gt;&lt;span class="s"&gt;import &amp;quot;fmt&amp;quot;&lt;/span&gt;
&lt;/span&gt;&lt;span id="row-69"&gt;&lt;span class="lineno"&gt;69 &lt;/span&gt;
&lt;/span&gt;&lt;span id="row-70"&gt;&lt;span class="lineno"&gt;70 &lt;/span&gt;&lt;span class="s"&gt;func main() {&lt;/span&gt;
&lt;/span&gt;&lt;span id="row-71"&gt;&lt;span class="lineno"&gt;71 &lt;/span&gt;&lt;span class="s"&gt;    fmt.Println(&amp;quot;\nNew test file compiled and executed successfully\n&amp;quot;)&lt;/span&gt;
&lt;/span&gt;&lt;span id="row-72"&gt;&lt;span class="lineno"&gt;72 &lt;/span&gt;&lt;span class="s"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;span id="row-73"&gt;&lt;span class="lineno"&gt;73 &lt;/span&gt;&lt;span class="s"&gt;EOF&lt;/span&gt;
&lt;/span&gt;&lt;span id="row-74"&gt;&lt;span class="lineno"&gt;74 &lt;/span&gt;
&lt;/span&gt;&lt;span id="row-75"&gt;&lt;span class="lineno"&gt;75 &lt;/span&gt;&lt;span class="nv"&gt;$GO&lt;/span&gt; run &lt;span class="nv"&gt;$TESTFILE&lt;/span&gt;
&lt;/span&gt;&lt;span id="row-76"&gt;&lt;span class="lineno"&gt;76 &lt;/span&gt;
&lt;/span&gt;&lt;span id="row-77"&gt;&lt;span class="lineno"&gt;77 &lt;/span&gt;&lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Project Path: &lt;/span&gt;&lt;span class="nv"&gt;$PROJECT_PATH&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;
&lt;/span&gt;&lt;span id="row-78"&gt;&lt;span class="lineno"&gt;78 &lt;/span&gt;&lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Project Repo: &lt;/span&gt;&lt;span class="nv"&gt;$PROJECT_REPO&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;
&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
</content><category term="golang"></category><category term="workflow"></category><category term="prototyping"></category><category term="bash"></category></entry><entry><title>Python prototypingÂ workflow</title><link href="https://derez.github.io/2018/python-prototyping-workflow.html" rel="alternate"></link><published>2018-02-23T00:00:00-05:00</published><updated>2018-02-23T00:00:00-05:00</updated><author><name>Danny Walker</name></author><id>tag:derez.github.io,2018-02-23:/2018/python-prototyping-workflow.html</id><summary type="html">&lt;p class="first last"&gt;Tools and scripts used to prototype and experiment with new python&amp;nbsp;ideas&lt;/p&gt;
</summary><content type="html">&lt;p&gt;Cover virtualenv, virtualenvwrappers for Python2 and venv for&amp;nbsp;Python3&lt;/p&gt;
&lt;p&gt;pyenv.sh - placed in&amp;nbsp;/etc/profile.d&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span id="row-1"&gt;&lt;span class="lineno"&gt; 1 &lt;/span&gt;&lt;span class="ch"&gt;#!/bin/bash&lt;/span&gt;
&lt;/span&gt;&lt;span id="row-2"&gt;&lt;span class="lineno"&gt; 2 &lt;/span&gt;
&lt;/span&gt;&lt;span id="row-3"&gt;&lt;span class="lineno"&gt; 3 &lt;/span&gt;&lt;span class="c1"&gt;# Sets up virtualenvwrapper as part of /etc/profile.d&lt;/span&gt;
&lt;/span&gt;&lt;span id="row-4"&gt;&lt;span class="lineno"&gt; 4 &lt;/span&gt;&lt;span class="c1"&gt;# sets PROJECT_HOME directory to ~/pyenv&lt;/span&gt;
&lt;/span&gt;&lt;span id="row-5"&gt;&lt;span class="lineno"&gt; 5 &lt;/span&gt;&lt;span class="c1"&gt;# WORKON_HOME directory defaults at ~/.virtualenv&lt;/span&gt;
&lt;/span&gt;&lt;span id="row-6"&gt;&lt;span class="lineno"&gt; 6 &lt;/span&gt;
&lt;/span&gt;&lt;span id="row-7"&gt;&lt;span class="lineno"&gt; 7 &lt;/span&gt;
&lt;/span&gt;&lt;span id="row-8"&gt;&lt;span class="lineno"&gt; 8 &lt;/span&gt;&lt;span class="c1"&gt;# Python environment startup&lt;/span&gt;
&lt;/span&gt;&lt;span id="row-9"&gt;&lt;span class="lineno"&gt; 9 &lt;/span&gt;&lt;span class="c1"&gt;# Ignore if opening shell as root&lt;/span&gt;
&lt;/span&gt;&lt;span id="row-10"&gt;&lt;span class="lineno"&gt;10 &lt;/span&gt;&lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="o"&gt;[[&lt;/span&gt; &lt;span class="nv"&gt;$EUID&lt;/span&gt; -gt &lt;span class="m"&gt;999&lt;/span&gt; &lt;span class="o"&gt;]]&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="k"&gt;then&lt;/span&gt;
&lt;/span&gt;&lt;span id="row-11"&gt;&lt;span class="lineno"&gt;11 &lt;/span&gt;
&lt;/span&gt;&lt;span id="row-12"&gt;&lt;span class="lineno"&gt;12 &lt;/span&gt;  &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="o"&gt;[&lt;/span&gt; -f &lt;span class="nv"&gt;$HOME&lt;/span&gt;/.pythonrc.py &lt;span class="o"&gt;]&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="k"&gt;then&lt;/span&gt;
&lt;/span&gt;&lt;span id="row-13"&gt;&lt;span class="lineno"&gt;13 &lt;/span&gt;    &lt;span class="nb"&gt;export&lt;/span&gt; &lt;span class="nv"&gt;PYTHONSTARTUP&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nv"&gt;$HOME&lt;/span&gt;/.pythonrc.py
&lt;/span&gt;&lt;span id="row-14"&gt;&lt;span class="lineno"&gt;14 &lt;/span&gt;  &lt;span class="k"&gt;fi&lt;/span&gt;
&lt;/span&gt;&lt;span id="row-15"&gt;&lt;span class="lineno"&gt;15 &lt;/span&gt;
&lt;/span&gt;&lt;span id="row-16"&gt;&lt;span class="lineno"&gt;16 &lt;/span&gt;  &lt;span class="k"&gt;if&lt;/span&gt; ! &lt;span class="o"&gt;[&lt;/span&gt; -d &lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="nv"&gt;$HOME&lt;/span&gt;&lt;span class="s2"&gt;/pyenv&amp;quot;&lt;/span&gt; &lt;span class="o"&gt;]&lt;/span&gt; &lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="k"&gt;then&lt;/span&gt;
&lt;/span&gt;&lt;span id="row-17"&gt;&lt;span class="lineno"&gt;17 &lt;/span&gt;    mkdir -p &lt;span class="nv"&gt;$HOME&lt;/span&gt;/pyenv
&lt;/span&gt;&lt;span id="row-18"&gt;&lt;span class="lineno"&gt;18 &lt;/span&gt;  &lt;span class="k"&gt;fi&lt;/span&gt;
&lt;/span&gt;&lt;span id="row-19"&gt;&lt;span class="lineno"&gt;19 &lt;/span&gt;
&lt;/span&gt;&lt;span id="row-20"&gt;&lt;span class="lineno"&gt;20 &lt;/span&gt;  &lt;span class="c1"&gt;# Python virtualenv&lt;/span&gt;
&lt;/span&gt;&lt;span id="row-21"&gt;&lt;span class="lineno"&gt;21 &lt;/span&gt;  &lt;span class="nb"&gt;export&lt;/span&gt; &lt;span class="nv"&gt;VIRTUALENVWRAPPER_PYTHON&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;/usr/bin/python
&lt;/span&gt;&lt;span id="row-22"&gt;&lt;span class="lineno"&gt;22 &lt;/span&gt;
&lt;/span&gt;&lt;span id="row-23"&gt;&lt;span class="lineno"&gt;23 &lt;/span&gt;  &lt;span class="nb"&gt;export&lt;/span&gt; &lt;span class="nv"&gt;PROJECT_HOME&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nv"&gt;$HOME&lt;/span&gt;/pyenv
&lt;/span&gt;&lt;span id="row-24"&gt;&lt;span class="lineno"&gt;24 &lt;/span&gt;  &lt;span class="c1"&gt;# turns off changing into WORKON_HOME&lt;/span&gt;
&lt;/span&gt;&lt;span id="row-25"&gt;&lt;span class="lineno"&gt;25 &lt;/span&gt;  &lt;span class="c1"&gt;# Sets up chainging into PROJECT_HOME when activating&lt;/span&gt;
&lt;/span&gt;&lt;span id="row-26"&gt;&lt;span class="lineno"&gt;26 &lt;/span&gt;  grep -q -F &lt;span class="s2"&gt;&amp;quot;cdproject&amp;quot;&lt;/span&gt; &lt;span class="nv"&gt;$WORKON_HOME&lt;/span&gt;/postactivate &lt;span class="o"&gt;||&lt;/span&gt; &lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;cdproject&amp;quot;&lt;/span&gt; &amp;gt;&amp;gt; &lt;span class="nv"&gt;$WORKON_HOME&lt;/span&gt;/postactivate
&lt;/span&gt;&lt;span id="row-27"&gt;&lt;span class="lineno"&gt;27 &lt;/span&gt;
&lt;/span&gt;&lt;span id="row-28"&gt;&lt;span class="lineno"&gt;28 &lt;/span&gt;  &lt;span class="nb"&gt;export&lt;/span&gt; &lt;span class="nv"&gt;VIRTUALENVWRAPPER_WORKON_CD&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;0&lt;/span&gt;
&lt;/span&gt;&lt;span id="row-29"&gt;&lt;span class="lineno"&gt;29 &lt;/span&gt;  &lt;span class="nb"&gt;source&lt;/span&gt; virtualenvwrapper.sh &amp;gt; /dev/null &lt;span class="m"&gt;2&lt;/span&gt;&amp;gt;&lt;span class="p"&gt;&amp;amp;&lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;span id="row-30"&gt;&lt;span class="lineno"&gt;30 &lt;/span&gt;
&lt;/span&gt;&lt;span id="row-31"&gt;&lt;span class="lineno"&gt;31 &lt;/span&gt;&lt;span class="k"&gt;fi&lt;/span&gt;
&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
</content><category term="python"></category><category term="workflow"></category><category term="prototyping"></category><category term="bash"></category></entry></feed>